<!DOCTYPE html>
<html>
<head>
    <title>Test Wallet Import</title>
    <style>
        body { font-family: monospace; padding: 20px; }
        .test-section { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        button { margin: 10px; padding: 10px; }
    </style>
</head>
<body>
    <h1>Test Wallet Import from wallet.dat</h1>
    
    <div class="test-section">
        <h2>Expected Results:</h2>
        <h3>test4.dat:</h3>
        <ul>
            <li>Master key: 34eca3cfb3ef6760dc45fabe2b9883182231095a03480fa2444a72dc6a95a72c</li>
            <li>Address[0]: alpha1qq2lyp57n0j379uhjsgzaxhj02s6htd5tpptpxu</li>
            <li>Address[1]: alpha1q3cfv5nrf5ew6dl7wpntrqh5ty5k9x9j7lef0h8</li>
            <li>Address[2]: alpha1qmc826063jcxwlwuwkhzuy6eycc9063ej2zcqqv</li>
        </ul>
        
        <h3>test5.dat:</h3>
        <ul>
            <li>Master key: 714a0fec6fd168176a720447f3ffc792da4101946fb051a7b61052740ad684c1</li>
            <li>Address[0]: alpha1qq067s8te7l2mkav3julzssc2ezzlyret6xyg94</li>
            <li>Address[1]: alpha1qz0ms0sn7zhwqnffrr78aysuts20q8p0l9nr6t9</li>
            <li>Address[2]: alpha1q5rhdz7pwznkhhztpz6f5t96ckeyh6sglfyuu8n</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>Test Steps:</h2>
        <ol>
            <li>Open <a href="index.html" target="_blank">index.html</a> in a new tab</li>
            <li>Click "Restore from wallet.dat"</li>
            <li>Select ref_materials/test4.dat</li>
            <li>Wait for import to complete</li>
            <li>Click "Generate New Address" to create more addresses</li>
            <li>Compare addresses with expected results above</li>
            <li>Repeat with test5.dat</li>
        </ol>
    </div>
    
    <div class="test-section">
        <h2>Quick Test Results:</h2>
        <p>After importing, check if:</p>
        <ul>
            <li>✓ Master key is displayed correctly</li>
            <li>✓ First address matches expected</li>
            <li>✓ Generate New Address creates correct subsequent addresses</li>
            <li>✓ Derivation path shows: m/84'/1'/0'/0/X</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>Manual Verification:</h2>
        <button onclick="runNodeTest('test4')">Verify test4.dat with Node.js</button>
        <button onclick="runNodeTest('test5')">Verify test5.dat with Node.js</button>
        <div id="nodeResults"></div>
    </div>
    
    <script>
        function runNodeTest(testFile) {
            const resultsDiv = document.getElementById('nodeResults');
            resultsDiv.innerHTML = `<p class="info">To verify ${testFile}.dat, run in terminal:</p>
                <pre>
# First update the test script to use ${testFile}.dat:
sed -i "s/test[0-9]\\.dat/${testFile}.dat/g" test_multiple_addresses.js

# Then run the test:
node test_multiple_addresses.js

# The output should match the expected addresses above
                </pre>`;
        }
    </script>
</body>
</html>